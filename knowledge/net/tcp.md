- TCP中的四次挥手最后的time-wait的作用主要是什么？
> 主要作用有两个：
>   - 一个原因是因为为了确保客户端最后发的包能够到达服务器，如果客户端发出一个包，这个包在传输过程中丢失了，服务器在MSL时间内没有收到这个包，会重新发一个挥手请求的包，后面发出的这个包也会经过MSL时间到达客户端，客户端就知道刚刚发的那个包丢了，就重发一个
>   - 另一个原因是等网络上所有正在传输的数据包消失，防止上一个连接的数据包被下一个连接接收到，防止两台主机之间旧的连接会干扰新的连接。

> **TIME_WAIT至少需要持续2MSL时长，这2个MSL中的第一个MSL是为了等自己发出去的最后一个ACK从网络中消失，而第二MSL是为了等在对端收到ACK之前的一刹那可能重传的FIN报文从网络中消失。另外，虽然说维持TIME_WAIT状态一段时间有2个目的，但这段时间具体应该多长主要是为了达成上述第二个目的而设计的。**